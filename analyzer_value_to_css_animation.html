<!DOCTYPE html>
 <html>
   <head>
      <title> TRYING TO GET ANALYSER DATA</title> 
  </head>
<body onmousemove="connectAudioToHtml()" >
<p id="datatext"> hallo <p>
</body>


 <script>

   	var audioContext = new(window.AudioContext || window.webkitAudioContext) ();


   	var OSC1 = audioContext.createOscillator();
    OSC1.type ="sine";
    OSC1.frequency.value = 120;

    var analyser = audioContext.createAnalyser();
    analyser.fftSize = 1024;
   
    var bufferLength = analyser.frequencyBinCount;
    var dataArray = new Uint8Array(bufferLength);
    analyser.getByteTimeDomainData(dataArray);


    var VCA = audioContext.createGain ();
    VCA.gain.value = 1;


    OSC1.connect(VCA);
    OSC1.connect(analyser);
    VCA.connect(audioContext.destination); 



function start (){
   	OSC1.start(0);
  };

start();
  
  function connectAudioToHtml () {
  document.getElementById("datatext").innerHTML = dataArray;
   console.log(dataArray);
   console.log(bufferLength);
  }
  
    // CHANGE OSC1 WAV
 

function waveOsc1 () {


switch(OSC1.type) {
   case "sine":
        OSC1.type ="sawtooth"
        document.getElementById("OSCwave").innerHTML = "MOD OSC: SAW";
        break;
   case "sawtooth":
        OSC1.type ="square"
        document.getElementById("OSCwave").innerHTML = "MOD OSC: SQUARE";
        break;
   case "square":
        OSC1.type ="sine"
        document.getElementById("OSCwave").innerHTML = "OSC1: SINE";
        break;
    default:
 OSC1.type = OSC1.type
};
};


 </script>


</html>
